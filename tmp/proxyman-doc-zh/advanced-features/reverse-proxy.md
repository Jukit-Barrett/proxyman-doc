# 反向代理

### 1.什么事？

反向代理将创建一个 ** 本地web服务器 **，透明地将您的流量代理到远程服务器。通过这种方式，Proxyman可以捕获并记录您的流量。

当您在不支持HTTP/HTTPS代理或HTTP代理配置过于复杂的客户端上工作时，反向代理非常有用。

例如，大多数命令行应用程序不尊重系统HTTP/HTTPS代理，因此Proxyman无法捕获其流量。要解决它，你必须:

* 显式配置HTTP/HTTPS代理。这很复杂，取决于您使用的网络库。查看此 [故障排除](https://docs.proxyman.com/troubleshooting/ couldnt-see-any-requests-from-3rd-party-network-libraries) 以进一步了解。
* 使用反向代理。

反向代理在Proxyman 2.29.0 + 上可用。

### 2.效益

* 反向代理功能: 您可以连接到Proxyman本地网络服务器，它会将您的流量转发到远程主机。无需在客户端上设置HTTP/HTTPS代理。
* 从查尔斯代理导入反向代理设置。
* 在标头中保留主机。
* 在创建新条目时自动选择可用端口。
* 能够使用断点，映射本地，脚本反向代理流量。

### 3.如何使用

1.从工具菜单-> 反向代理访问反向代理工具
2.通过输入远程主机和远程端口来创建新条目。对于本地端口，Proxyman将自动选择。您可以更改为其他端口，但该端口必须可用。
3.保存。
4.在客户端应用程序上，将URL更改为 <http:// localhost :\\>\< local \ _port> (例如 <http:// localhost:10000>)
5.提出请求并检查来自Proxyman应用程序的流量

![反向代理工具] (图像/Screen_Shot_2021-06-26_at_17.05.42_392ac8be.png)

![创建新的反向代理条目] (图像/Screen_Shot_2021-06-26_at_17.05.45_e804a7ce.png)

{% 提示样式 = "info" %}
如果端口443，Proxyman将执行SSL握手到您的远程服务器。否则，它被认为是一个正常的HTTP web服务器。
{% endhint %}

{% 提示样式 = "info" %}
** 在标头字段中保留主机 ** 允许您保留原始主机值。您应该谨慎使用它，因为您的远程服务器可能会因主机值不匹配而拒绝请求。
{% endhint %}
